language: node_js
node_js:
    - '10'
    - '8'

services:
    - mongodb

env:
    - DATABASE_URL=mongodb://localhost:27017/testdb JWT_SECRET=testsecret PORT=5000

install:
    - npm install
    - cd server && npm install

before_script:
    - cd ..

script:
    - npm run test

cache:
    directories:
        - 'node_modules'
